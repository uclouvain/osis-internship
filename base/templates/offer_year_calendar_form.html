{% extends "layout.html" %}
{% load staticfiles %}
{% load i18n %}

{% comment "License" %}
 * OSIS stands for Open Student Information System. It's an application
 * designed to manage the core business of higher education institutions,
 * such as universities, faculties, institutes and professional schools.
 * The core business involves the administration of students, teachers,
 * courses, programs and so on.
 *
 * Copyright (C) 2015-2016 Universit√© catholique de Louvain (http://www.uclouvain.be)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * A copy of this license - GNU General Public License - is available
 * at the root of the source code of this program.  If not,
 * see http://www.gnu.org/licenses/.
{% endcomment %}
{% block style %}
<link rel="stylesheet" href="{% static 'css/bootstrap-datepicker3.min.css' %}" type='text/css'>
{% endblock %}
{% block breadcrumb %}
<li><a href="{% url 'catalog' %}" id="lnk_catalog">{% trans 'catalogue' %}</a></li>
  <li><a href="{% url 'offers' %}" id="lnk_offers">{% trans 'offers' %}</a></li>
<li class="active">{% trans 'offer_year_calendar' %}</li>
{% endblock %}
{% block content %}
<div class="page-header">
  <h2>{{ offer_year_calendar.offer_year.acronym}}</h2>
</div>

{% include "template_messages.html" %}

<div class="panel panel-default">
  <div class="panel-body">
    {% if offer_year_calendar.id%}
    <form method="post" action="{% url 'offer_year_calendar_save' offer_year_calendar.id %}">
        <input type="hidden" name="offer_year" id="hdn_offer_year" value="{{ offer_year_calendar.offer_year.id}}">
    {%else%}
    <form method="post" action="{% url 'offer_year_calendar_save_new'  %}">
        <input type="hidden" name="offer_year" id="hdn_offer_year" value="{{ offer_year_calendar.offer_year.id}}">
    {%endif%}
      {% csrf_token %}
      <div class="row">
        <div class="col-md-8">
          <label>{% trans 'academic_calendar'%}</label><br>
            {{ offer_year_calendar.academic_calendar }}
          <input type="hidden" name="academic_calendar" id="hdn_academic_calendar" value="{{ offer_year_calendar.academic_calendar.id }}">
        </div>
        <div class="col-md-2">
          <label for="txt_start_date">{% trans 'start_date'%}</label>
          <input type="text" id="txt_start_date" class="form-control" value="{{ offer_year_calendar.start_date| default_if_none:''|date:"j/m/Y" }}" name="start_date" id="txt_start_date"><font class="error">{{ form.start_date.errors }}</font>
        </div>
        <div class="col-md-2">
          <label for="txt_end_date">{% trans 'end_date' %}</label>
          <input type="text" id="txt_end_date" class="form-control" value="{{ offer_year_calendar.end_date| default_if_none:''|date:"j/m/Y" }}" name="end_date" id="txt_end_date"><font class="error">{{ form.end_date.errors }}</font>
        </div>
      </div>
      <br>
      <button type="submit" class="btn btn-primary" title="{% trans 'save'%}" id="bt_offer_year_calendar_save">
        <span class="glyphicon glyphicon-save" aria-hidden="true"></span> {% trans 'save'%}
      </button>
      <a class="btn btn-default" href="{% url 'offer_read' offer_year_calendar.offer_year.id %}" role="button" id="lnk_cancel_offer_year_calendar">
        <span class="glyphicon glyphicon-cancel" aria-hidden="true"></span> {% trans 'cancel' %}</a>
    </form>
  </div>
</div>
{% endblock %}
{% block script %}
<script src="{% static 'js/bootstrap-datepicker.min.js' %}"></script>
<script>
  $("#txt_start_date").datepicker({
      format: "dd/mm/yyyy",
      autoclose: true,
      orientation: "bottom auto"
  });
  $("#txt_end_date").datepicker({
      format: "dd/mm/yyyy",
      autoclose: true,
      orientation: "bottom auto"
  });
</script>
{% endblock %}
